(()=>{"use strict";var r=new(function(){function r(){this.vigenereKeyRegex=/[a-zA-Z]/gm,this.keyRegex=/(?!^[0-9]*$)(?!^[a-zA-Z]*$)^([a-zA-Z0-9]{6,})$/gm}return r.prototype.isLetter=function(r){return 1===r.length&&r.match(/[a-zA-Z]/i)},r.prototype.isUpperCase=function(r){return r===r.toUpperCase()},r.prototype.rowFenceEncrypt=function(r,e){e=e>1?e:2;for(var t=r.length,n=r.split(""),o=[],a=0;a<e;a++)o[a]=[];for(var i=0;i<e;i++)for(var c=0;c<Math.ceil(t/e);c++){var h=n[e*c+i];o[i].push(h||"=")}return o.map((function(r){return r.join("")})).join("")},r.prototype.rowFenceDecrypt=function(r,e){try{e=e>1?e:2;for(var t=r.length,n=r.split(""),o=Math.round(t/e),a=[],i=[],c=0;c<e;c++)for(var h=0;h<o;h++){a[c]||(a[c]=[]);var s=c*o+h;a[c].push(n[s])}for(var p=function(r){i[r]=a.map((function(e){return e[r]}))},u=0;u<o;u++)p(u);for(var f=i.map((function(r){return r.join("")})).join(""),y=[],m=f.length;m>0;m--){var g=f[m-1];"="!==g&&y.push(g)}return y.reverse().join("")}catch(e){return r}},r.prototype.vigenereEncrypt=function(r,e){for(var t="",n=0,o=0;n<r.length;n++){var a=r.charAt(n);this.isLetter(a)?this.isUpperCase(a)?t+=String.fromCharCode((a.charCodeAt(0)+e.toUpperCase().charCodeAt(o)-130)%26+65):t+=String.fromCharCode((a.charCodeAt(0)+e.toLowerCase().charCodeAt(o)-194)%26+97):t+=a,o=++o%e.length}return t},r.prototype.vigenereDecrypt=function(r,e){try{for(var t="",n=0,o=0;n<r.length;n++){var a=r.charAt(n);this.isLetter(a)?this.isUpperCase(a)?t+=String.fromCharCode(90-(25-(a.charCodeAt(0)-e.toUpperCase().charCodeAt(o)))%26):t+=String.fromCharCode(122-(25-(a.charCodeAt(0)-e.toLowerCase().charCodeAt(o)))%26):t+=a,o=++o%e.length}return t}catch(e){return r}},r.prototype.encrypt=function(r,e){if(!e)throw new Error("Key must not be empty");if(null===e.match(this.keyRegex))throw new Error("Key must contain number and letter and must be more than 6 characters");if(isNaN(parseInt(e[0])))throw new Error("First character of key must be in number");var t=encodeURI(r),n=btoa(t),o=this.vigenereEncrypt(n,e.match(this.vigenereKeyRegex).join(""));return this.rowFenceEncrypt(o,parseInt(e[0]))},r.prototype.decrypt=function(r,e){if(!e)throw new Error("Key must not be empty");if(null===e.match(this.keyRegex))throw new Error("Key must contain number and letter and must be more than 6 characters");if(isNaN(parseInt(e[0])))throw new Error("First character of key must be in number");var t=this.rowFenceDecrypt(r,parseInt(e[0])),n=this.vigenereDecrypt(t,e.match(this.vigenereKeyRegex).join("")),o=atob(n);return decodeURI(o)},r}());window.E2EE=r})();